<!DOCTYPE html>
 <html>
    <head>
		<title> Jongekracht football club </title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
		<link rel="stylesheet" href="main.css"/>
    </head>
	<body>
		<H1>Jongekracht</H1>
		<p> Overview of the accomodation </P>
		<div id="map"></div>

		<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-hash/0.2.1/leaflet-hash.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.5.0/proj4.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/proj4leaflet/1.0.2/proj4leaflet.js"></script>
		<style type="text/css">
body {
    background-color: white;
    color: Red;
},
p {
    font-family: sans-serif;
    color: lime;
}
</style>
		
		
		<script>
		
		
		
		
		const RDnew = new L.Proj.CRS( 'EPSG:28992','+proj=sterea +lat_0=52.15616055555555 +lon_0=5.38763888888889 +k=0.9999079 +x_0=155000 +y_0=463000 +ellps=bessel +units=m +towgs84=565.2369,50.0087,465.658,-0.406857330322398,0.350732676542563,-1.8703473836068,4.0812 +no_defs',
					{
						resolutions: [3440.640, 1720.320, 860.160, 430.080, 215.040, 107.520, 53.760, 26.880, 13.440, 6.720, 3.360, 1.680, 0.840, 0.420, 0.210],
						bounds: L.bounds([-285401.92, 22598.08], [595401.9199999999, 903401.9199999999]),
						origin: [-285401.92, 22598.08]
					}
				);
				
				
		const myGeojson = {
		"type": "FeatureCollection",
	"features": [
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              5.939623117446899,
              51.9285681742967
            ],
            [
              5.939033031463623,
              51.92814806482529
            ],
            [
              5.9382981061935425,
              51.92777095533625
            ],
            [
              5.941151976585387,
              51.92560747650916
            ],
            [
              5.94335675239563,
              51.92689102087255
            ],
            [
              5.942214131355286,
              51.92759893942929
            ],
            [
              5.939623117446899,
              51.9285681742967
            ]
          ]
        ]
      }
    }
  ]
}		

		
		 //initialize the map         
		const map = L.map('map', {CRS: RDnew,
		}).setView([51.9229, 5.9411], 15);

		//Create baselayer - tiles         
		const backgroundMap = L.tileLayer('http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png',{
		attribution: '<a href="http://openstreetmap.org">OpenStreetMap</a>contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',
		maxZoom: 15
		}
		);
  
		backgroundMap.addTo(map);
		
		// ADD the geoJSON Layer
		L.geoJSON(myGeojson).addTo(map);
		 
		// Hash in URL
		const hash = new L.Hash(map);
		
		
		// Add markers
		let stand = L.marker([ 51.92741, 5.94014]).addTo(map);
		let canteen = L.marker([ 51.9279, 5.9392]) .addTo(map);
		let dressingrooms = L.marker([51.9278, 5.9389]).addTo(map);
		let dressingroomstemp = L.marker([51.928133, 5.939594]).addTo(map);
		let mainfield = L.marker([51.92771, 5.94051]).addTo(map);
		let thirdfield = L.marker([51.927007, 5.942303]).addTo(map);
		let secondfield = L.marker([51.926554, 5.941547]).addTo(map);
		let trainingfield = L.marker([51.927239, 5.939687]).addTo(map);
		let parking = L.marker([51.928288, 5.939383]).addTo(map);
		
		// Add popups	
		let popup = "Stand";
			stand.bindPopup(popup);
		let popup1 = "Canteen";
			canteen.bindPopup(popup1)
		let popup2 = "Dressing rooms";
			dressingrooms.bindPopup(popup2)
		let popup3 = "Main field (A)";
			mainfield.bindPopup(popup3)
		let popup4 = "Second field (B)";
			secondfield.bindPopup(popup4)			
		let popup5 = "Third field (C)";
			thirdfield.bindPopup(popup5)
		let popup6 = "Temporary dressing rooms";
			dressingroomstemp.bindPopup(popup6)			
		let popup7 = "Training field";
			trainingfield.bindPopup(popup7)				
		let popup8 = "Parking";
			parking.bindPopup(popup8)	
		
		// Add circles
		let circle =  L.circle([51.92667, 5.94032], 222, {
			color: 'Red',
			fillColor: 'white',
			fillOpacity: 0.5
			}).addTo(map);

		// Add polgon	
		let polygon = L.polygon(
			[[
			[51.928245, 5.940151], 
			[51.927695, 5.941399], 
			[51.927195, 5.940808], 
			[51.927742, 5.939563], 
			]],{
			color: 'green',
			fillcolor: 'green',
			fillOpacity: 0.2}
			).addTo(map);
			
		let polygon1 = L.polygon(
			[[
			[51.927530, 5.942173], 
			[51.926855, 5.943122], 
			[51.926478, 5.942428], 
			[51.927155, 5.941466], 
			]],{
			color: 'green',
			fillcolor: 'green',
			fillOpacity: 0.2}
			).addTo(map);
  
 		let polygon2 = L.polygon(
			[[
			[51.927079, 5.941414], 
			[51.926399, 5.942366], 
			[51.926026, 5.941667], 
			[51.926702, 5.940713], 
			]],{
			color: 'green',
			fillcolor: 'green',
			fillOpacity: 0.2}
			).addTo(map);
			
		let polygon3 = L.polygon(
			[[
			[51.927857, 5.939056], 
			[51.927538, 5.939800], 
			[51.927493, 5.939816], 
			[51.927263, 5.940339],
			[51.927261, 5.940420], 
			[51.926990, 5.941002], 
			[51.926472, 5.939937], 
			[51.927533, 5.938632], 			
			]],{
			color: 'yellowgreen',
			fillcolor: 'yellowgreen',
			fillOpacity: 0.2}
			).addTo(map);
			
		let polygon4 = L.polygon(
			[[
			[51.928578, 5.939639], 
			[51.928482, 5.939828], 
			[51.928136, 5.939443], 
			[51.928225, 5.939224],
			[51.927841, 5.938518], 
			[51.927873, 5.938478], 
			[51.928259, 5.939154],  			
			]],{
			color: 'grey',
			fillcolor: 'grey',
			fillOpacity: 0.2}
			).addTo(map);	

		// ADD a WMS layer
		const cbs = L.tileLayer.wms('https://geodata.nationaalgeoregister.nl/wijkenbuurten2018/wms', {
        'layers': 'cbs_buurten_2018',
        'styles': 'wijkenbuurten2018:wijkenbuurten_thema_buurten_default',
        'srs': 'EPSG:28992',
        'format': 'image/png',
        'transparent': true
		}).addTo(map);			
				
		// Create a marker style
		const geojsonMarkerOptions = {
		  radius: 8,
		  fillColor: "#ff7800",
		  color: "#000",
		  weight: 1,
		  opacity: 1,
		  fillOpacity: 0.8
		};

		//create a empty geojson layer
		const geojson = L.geoJson(null,{
		pointToLayer: function (feature, latlng) {
		return L.circleMarker(latlng, geojsonMarkerOptions);
		  }
		}).addTo(map);		

		// Fetch the geojson file
		fetch("./entrances.geojson")
			.then(response => response.json())
			.then(data => {
				geojson.addData(data);
			})		
		.catch( error => alert("Sorry, the data cannot be found, this is the error: " + error))	
			
	</script>
	
	</body>
	
</html>

